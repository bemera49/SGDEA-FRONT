<div>
  <div class="d-flex flex-column p-4">
    <button (click)="router.navigate(['/pqrs/pqrs-view/' + currentId])" mat-button style="width: 150px">
      <mat-icon>chevron_left</mat-icon>Volver
    </button>
    <h2 class="text-black font-weight-bold">PQRS #{{currentId}} - {{ currentItem?.numeroRadiRadicado }}</h2>
  </div>

  <div style="width: 90%; margin: 0 auto;">
    <h3 class="title">Adjuntar documento para flujo de firma</h3>
    <div class="mr-4 p-4" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 40px;  padding: 16px"
      class="card">

      <button mat-raised-button [disabled]="hasMainDocs"
        [ngClass]="!hasMainDocs ? 'bg-primary text-white' : 'bg-disabled'" (click)="inputLastFile.click()">
        Adjuntar Archivo (.DOC, .DOCX)
        <mat-icon>attach_file</mat-icon>
      </button>


      <div class="mt-2 d-flex align-items-center rounded border w-100" *ngIf="mainDoc" style="grid-column: 2 / 3;">
        <img src="assets\img\word.svg" alt="" style="margin: 0 8px" width="24px" height="24px">
        <ng-container>
          <p class="w-100 m-0 pl-2"
            style="word-break: break-all; text-overflow: ellipsis; font-size: 16px; width: 100%; padding: 8px; padding-left: 24px; font-weight: 500;">
            {{ mainDoc.nombreRadiDocumentoPrincipal }}</p>
        </ng-container>
      </div>

      <input type="file" accept=".doc,.docx" hidden #inputLastFile (change)="lastOnFileSelected($event) ">

      <button *ngIf="usTrabajoColaborativo.length > 0 && canInitTrabajoColaborativo"
        [ngClass]="canInitTrabajoColaborativo ? 'bg-primary text-white' : 'bg-disabled'" style="grid-column: 1 / 3;"
        (click)="nextWorkflow()" mat-raised-button>
        Iniciar trabajo colaborativo
      </button>


      <button *ngIf="usTrabajoColaborativo.length == 0" [disabled]="!hasMainDocs"
        [ngClass]="hasMainDocs ? 'bg-primary text-white' : 'bg-disabled'" style="grid-column: 1 / 3;"
        (click)="redirectFirma()" mat-raised-button>
        Crear flujo de firma
      </button>

      <button *ngIf="usTrabajoColaborativo.length > 0 && !canInitTrabajoColaborativo" class="bg-primary text-white"
        style="grid-column: 1 / 3;" (click)="nextWorkflow()" mat-raised-button>
        Avanzar trabajo colaborativo
      </button>

    </div>
    _
  </div>

  <ngx-doc-viewer *ngIf="this.mainDoc; else noContent;" [url]="getDocumentUrl(mainDoc.rutaRadiDocumentoPrincipal)"
    style="width: 90%; margin: 0 auto; height: 100vh; max-height: 2000px; max-width: 2000px;">

  </ngx-doc-viewer>

  <ng-template #noContent>
    <div class="alert alert-danger" style="width: 90%; margin: 0 auto;" role="alert">
      Este radicado no tiene documentos principales
    </div>
  </ng-template>
</div>