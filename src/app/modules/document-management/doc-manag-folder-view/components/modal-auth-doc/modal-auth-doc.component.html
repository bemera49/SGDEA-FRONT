<h2 mat-dialog-title>Agregar usuarios</h2>

<form [formGroup]="formAuth" (ngSubmit)="onSubmit()">

  <mat-dialog-content class="mat-typography">
    <p>Seleccione el usuario y los permisos de gestión en el expediente seleccionado</p>

    <mat-form-field class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <mat-label>Usuarios</mat-label>
      <input type="text" matInput [matAutocomplete]="auto" [formControl]="formAuth.get('nombre')" maxlength="200">
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        <mat-option *ngFor="let option of textoPredictivo" (click)="setIdUsuario(option.id)" [value]="option.nombre">
          {{ option.nombre }}
        </mat-option>
      </mat-autocomplete>
      <!-- <mat-error *ngIf="SolicitudFormGroup.get('nombreDelDocumento').invalid">
        El tipo de solicitud es requerido.
      </mat-error> -->
    </mat-form-field>



    <section>
      <h4>Permisos</h4>
      <p *ngFor="let per of permisos"><mat-checkbox
          (change)="onChecked($event.checked,per.id)">{{per.nombre}}</mat-checkbox></p> 
    </section>

    <section>
      <mat-form-field class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <mat-label>Justificación</mat-label>
        <textarea matInput name="justificacion" formControlName="justificacion" id="justificacion"
          placeholder="Justificación..." maxlength="100"></textarea>
      </mat-form-field>
    </section>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button class="btn btn-primary" color="warn" type="submit" [mat-dialog-close]="true"
      [disabled]="!formAuth.valid">Aceptar</button>
    <button mat-button class="btn bg-white text-primary border border-primary" mat-dialog-close>Cancelar</button>
  </mat-dialog-actions>


</form>